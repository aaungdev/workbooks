# Python Learning

import requests
from requests.auth import HTTPBasicAuth
import json

# ---- Configuration ----
jira_url = "https://your-domain.atlassian.net"  # Replace with your Jira domain
email = "your-email@example.com"                # Your Jira email
api_token = "your-api-token"                    # Your Jira API token

# JQL to get issues - customize as needed
jql = "project = DEMO ORDER BY created DESC"

# Endpoint
url = f"{jira_url}/rest/api/3/search"

# Headers
headers = {
    "Accept": "application/json",
    "Content-Type": "application/json"
}

# Parameters
query = {
    'jql': jql,
    'maxResults': 50,  # Number of issues to retrieve
    'fields': 'summary,status,assignee'  # Add more fields as needed
}

# Make request
response = requests.get(
    url,
    headers=headers,
    params=query,
    auth=HTTPBasicAuth(email, api_token)
)

# Check response
if response.status_code == 200:
    data = response.json()
    for issue in data['issues']:
        print(f"{issue['key']}: {issue['fields']['summary']} (Status: {issue['fields']['status']['name']})")
else:
    print(f"Failed to fetch issues: {response.status_code}")
    print(response.text)
